/*!
 * DJ Mountainous - Dj Mountainous v1.1.1 (djmountainous.com)
 * Copyright 2016-2017 Corey Sanford
 */
"use strict";function collapseNavbar(){$(".navbar").offset().top>$("#waves").offset().top-150?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse")}$(function(){var t=[1,2,4,8,10,25,50,75,95],e=function(t){this.$audioPlayer=t,this.stub=this.$audioPlayer.attr("id"),this.rating=this.$audioPlayer.data("rating"),this.$playPauseBtn=this.$audioPlayer.find(".play-pause").eq(0),this.$track=this.$audioPlayer.find("audio").eq(0),this.track=this.$track.get(0),this.isPastMilestone={},this.constructMilestones(),this.$progressBar=this.$audioPlayer.find(".progress-bar").eq(0),this.$buffer=this.$progressBar.find(".buffer").eq(0),this.$played=this.$progressBar.find(".played").eq(0),this.$currentTime=this.$audioPlayer.find(".current-time").eq(0),this.$mixLength=this.$audioPlayer.find(".mix-length").eq(0),this.$divider=this.$audioPlayer.find(".divider").eq(0),this.trackRefreshTimer=null};e.prototype.constructMilestones=function(){var e=this;t.forEach(function(t){e.isPastMilestone[t]=!1})},e.prototype.sendProgressEvents=function(){var e=this,i=this.track.currentTime/this.track.duration*100;t.forEach(function(t){i>t&&(e.isPastMilestone[t]||(e.isPastMilestone[t]=!0,ga("send","event","Mix","progress-"+t,e.stub)))})},e.prototype.pauseAllOthers=function(){$(".audio-player").not(this.$audioPlayer).each(function(){var t=new e($(this));t.pauseTrack()})},e.prototype.isPaused=function(){return this.track.paused},e.prototype.pauseTrack=function(t){this.track.pause(),this.$audioPlayer.removeClass("playing"),this.$progressBar.removeClass("expanded")},e.prototype.playTrack=function(t){ga("send","event","Mix","play",this.stub,this.rating),this.pauseAllOthers(),this.track.play(),this.$audioPlayer.addClass("playing"),this.$progressBar.addClass("expanded"),this.startInterval(),this.$currentTime.text(this.currentTimeString()),this.$divider.show(),this.$mixLength.text(this.durationString())},e.prototype.startInterval=function(){this.trackRefreshTimer=setInterval(this.tick.bind(this),100)},e.prototype.clearInterval=function(){clearInterval(this.trackRefreshTimer)},e.prototype.tick=function(){this.$currentTime.text(this.currentTimeString()),this.updateProgressBar(),this.sendProgressEvents()},e.prototype.updateProgressBar=function(){var t=this.track.currentTime/this.track.duration*100;this.$played.css("width",t+"%")},e.prototype.currentTimeString=function(){return this.timeString(this.track.currentTime)},e.prototype.durationString=function(){return this.timeString(this.track.duration)},e.prototype.timeString=function(t){if(isNaN(t)){if(isNaN(this.track.duration))return"";this.track.duration}var e="0"+Math.round(t%60);return e=e.substr(e.length-2),Math.round(t/60)+":"+e},e.prototype.togglePlayPause=function(){this.isPaused()?this.playTrack():this.pauseTrack()},e.prototype.seek=function(t){var e=t.offsetX/$(t.target).width();this.track.currentTime=e*this.track.duration,this.updateProgressBar()},$("body").on("click",".play-pause",function(){var t=new e($(this).closest(".audio-player").eq(0));t.togglePlayPause()}),$("body").on("click",".progress-bar",function(t){var i=new e($(this).closest(".audio-player").eq(0));i.seek(t)}),$("body").on("click",".download",function(t){ga("send","event","Mix","download",$(this).closest(".audio-player").attr("id"),$(this).closest(".audio-player").data("rating"))})}),$(window).scroll(collapseNavbar),$(document).ready(collapseNavbar),$(function(){$("a.page-scroll").bind("click",function(t){var e=$(this);$("html, body").stop().animate({scrollTop:$(e.attr("href")).offset().top-150},1e3,"easeInOutExpo"),t.preventDefault()})}),$(".navbar-collapse ul li a").click(function(){"dropdown-toggle active"!=$(this).attr("class")&&"dropdown-toggle"!=$(this).attr("class")&&$(".navbar-toggle:visible").click()}),$(function(){function t(t){$(".v-descriptions > p").not('.v-descriptions > p[data-rating="'+t+'"]').hide(),$(".bottom-bar > div .rating-block").not('.bottom-bar > div .rating-block[data-rating="'+t+'"]').css("opacity",i).removeClass("active"),$('.bottom-bar > div .rating-block[data-rating="'+t+'"]').css("opacity",1).addClass("active"),$('.v-descriptions > p[data-rating="'+t+'"]').show()}var e=480,i="0.4",a="0.5",r=$(".bottom-bar .rating-block"),s=r.length;r.eq(0).height();0!==s&&(setInterval(function(){var t=Math.floor(Math.random()*s)+1;r.not(".active").css("opacity",i);for(var e=0;e<t;e++){var n=Math.floor(Math.random()*s)+1;r.eq(n).hasClass("active")||r.eq(n).css("opacity",a)}},e),$(".bottom-bar > div").on("click",function(){var e=$(this).find(".rating-block").data("rating");t(e)}))}),$(function(){var t=window.location.search.replace("?","");0!==t.length&&(setTimeout(function(){$(".mix").not("."+t).css("opacity",.5),$(".mix-group__title, .group-description").css("opacity",.5)},0),$("*").on("click",function(){$(".mix").css("opacity",1)}),$("#mixes").on("click",".mix__details .rating",function(){$('.rating-block[data-rating="'+$(this).data("rating")+'"]').closest("div").trigger("hover"),$('.rating-block[data-rating="'+$(this).data("rating")+'"]').closest("div").trigger("click"),$("html, body").scrollTop($(".bottom-bar").offset().top-130)}))}),$(function(){setTimeout(function(){$(".audio-controls__background").removeClass("start-position")},10)}),$(function(){setInterval(function(){["video-left","video-right"].forEach(function(t){console.log("Restarting video-left"),mediaElement=document.getElementById(t),mediaElement.pause(),mediaElement.currentTime=0,mediaElement.play()})},34e3)}),$(function(){function t(t,e){var i=MyApp.templates.mixes(t);$("#mixes-tmpl-"+e).html(i)}var e={mixes:[{title:"Elfin Lakes",genres:"House, Progressive, Trance",date:"January 2017",slug:"elfin-lakes",rating:4},{title:"Helm Creek",genres:"Deep House, Chilled",date:"October 2016",slug:"helm-creek-ambient-deep",rating:1},{title:"The Eiger",genres:"Tech House",date:"Sept 2016",slug:"va-tech-house",rating:3},{title:"Garibaldi",genres:"Deep House",date:"June 2016",slug:"va-deep-house-v2",rating:2}]},i={mixes:[{title:"Blueprint 19th Warmup",genres:"Rezz Griz Grime W.S.N DFrancis",date:"October 2016",slug:"blueprint-19-warmup",rating:9},{title:"Live @ BirthRave 2016",genres:"Bass Funk, Trap, Dub",date:"Sept 24, 2016",slug:"live-birthrave-2016-bass-funk-dub",rating:8},{title:"Black Tusk",genres:"Trap & Dubstep",date:"August 2016",slug:"va-dubtrap",rating:9},{title:"Seven Lions warmup",genres:"Dreamstep",date:"October 2016",slug:"seven-lions-warm-up-mix",rating:7}]};t(i,"intense"),t(e,"calm")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsbC5taW4uanMiLCJncmF5c2NhbGUuanMiLCJhdWRpby1wbGF5ZXIuanMiLCJob21lcGFnZS1hbmltYXRpb25zLmpzIiwic2l0ZS5qcyJdLCJuYW1lcyI6WyJjb2xsYXBzZU5hdmJhciIsIiQiLCJvZmZzZXQiLCJ0b3AiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwicHJvZ3Jlc3NNaWxlc3RvbmVzIiwiYXVkaW9QbGF5ZXIiLCIkYXVkaW9QbGF5ZXIiLCJ0aGlzIiwic3R1YiIsImF0dHIiLCJyYXRpbmciLCJkYXRhIiwiJHBsYXlQYXVzZUJ0biIsImZpbmQiLCJlcSIsIiR0cmFjayIsInRyYWNrIiwiZ2V0IiwiaXNQYXN0TWlsZXN0b25lIiwiY29uc3RydWN0TWlsZXN0b25lcyIsIiRwcm9ncmVzc0JhciIsIiRidWZmZXIiLCIkcGxheWVkIiwiJGN1cnJlbnRUaW1lIiwiJG1peExlbmd0aCIsIiRkaXZpZGVyIiwidHJhY2tSZWZyZXNoVGltZXIiLCJwcm90b3R5cGUiLCJfdGhpcyIsImZvckVhY2giLCJtaWxlc3RvbmUiLCJzZW5kUHJvZ3Jlc3NFdmVudHMiLCJfdGhpczIiLCJwcm9ncmVzcyIsImN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJnYSIsInBhdXNlQWxsT3RoZXJzIiwibm90IiwiZWFjaCIsInBsYXlyIiwicGF1c2VUcmFjayIsImlzUGF1c2VkIiwicGF1c2VkIiwicGF1c2UiLCJwbGF5VHJhY2siLCJwbGF5Iiwic3RhcnRJbnRlcnZhbCIsInRleHQiLCJjdXJyZW50VGltZVN0cmluZyIsInNob3ciLCJkdXJhdGlvblN0cmluZyIsInNldEludGVydmFsIiwidGljayIsImJpbmQiLCJjbGVhckludGVydmFsIiwidXBkYXRlUHJvZ3Jlc3NCYXIiLCJwbGF5UGVyY2VudGFnZSIsImNzcyIsInRpbWVTdHJpbmciLCJ0aW1lIiwiaXNOYU4iLCJzZWNvbmRzIiwiTWF0aCIsInJvdW5kIiwic3Vic3RyIiwibGVuZ3RoIiwidG9nZ2xlUGxheVBhdXNlIiwic2VlayIsImV2ZW50Iiwib2Zmc2V0WCIsInRhcmdldCIsIndpZHRoIiwib24iLCJwbGF5ZXIiLCJjbG9zZXN0Iiwid2luZG93Iiwic2Nyb2xsIiwiZG9jdW1lbnQiLCJyZWFkeSIsIiRhbmNob3IiLCJzdG9wIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsInByZXZlbnREZWZhdWx0IiwiY2xpY2siLCJzaG93QW5kSGlnaGxpZ2h0UmF0aW5nIiwiaGlkZSIsIkRFRkFVTFRfT1BBQ0lUWSIsIkFOSU1BVElPTl9QRVJJT0QiLCJJTkNSRUFTRURfT1BBQ0lUWSIsIiRyYXRpbmdfYmxvY2tzIiwibnVtX3JhdGluZ3MiLCJoZWlnaHQiLCJibG9ja3NfdG9fYmxhbmsiLCJmbG9vciIsInJhbmRvbSIsImkiLCJyYW5kX2Jsb2NrX2luZGV4IiwiaGFzQ2xhc3MiLCJzZWFyY2giLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJzZXRUaW1lb3V0IiwidHJpZ2dlciIsInZpZGVvSWQiLCJjb25zb2xlIiwibG9nIiwibWVkaWFFbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbmplY3RUZW1wbGF0ZXMiLCJ0eXBlIiwiaHRtbCIsIk15QXBwIiwidGVtcGxhdGVzIiwibWl4ZXMiLCJjYWxtX21peGVzIiwidGl0bGUiLCJnZW5yZXMiLCJkYXRlIiwic2x1ZyIsImludGVuc2VfbWl4ZXMiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxZQ09BLFNBQVNBLGtCQUNEQyxFQUFFLFdBQVdDLFNBQVNDLElBQU1GLEVBQUUsVUFBVUMsU0FBU0MsSUFBTSxJQUN2REYsRUFBRSxxQkFBcUJHLFNBQVMsb0JBRWhDSCxFQUFFLHFCQUFxQkksWUFBWSxvQkNQM0NKLEVBQUUsV0FFQSxHQUFNSyxJQUFzQixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksSUFFcERDLEVBQWMsU0FBU0MsR0FFekJDLEtBQUtELGFBQWVBLEVBQ3BCQyxLQUFLQyxLQUFPRCxLQUFLRCxhQUFhRyxLQUFLLE1BQ25DRixLQUFLRyxPQUFTSCxLQUFL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QU1DLFVBQVVDLE1BQU14RyxFQUNqQ1osR0FBRSxlQUFlZ0gsR0FBTUMsS0FBS0EsR0F2RTlCLEdBQUlJLElBQ0ZELFFBR0lFLE1BQU8sY0FDUEMsT0FBUSw2QkFDUkMsS0FBTSxlQUNOQyxLQUFNLGNBQ045RyxPQUFRLElBR1IyRyxNQUFPLGFBQ1BDLE9BQVEsc0JBQ1JDLEtBQU0sZUFDTkMsS0FBTSwwQkFDTjlHLE9BQVEsSUFFUjJHLE1BQU8sWUFDUEMsT0FBUSxhQUNSQyxLQUFNLFlBQ05DLEtBQU0sZ0JBQ045RyxPQUFRLElBR1IyRyxNQUFPLFlBQ1BDLE9BQVEsYUFDUkMsS0FBTSxZQUNOQyxLQUFNLG1CQUNOOUcsT0FBUSxLQUtWK0csR0FDRk4sUUFHSUUsTUFBTyx3QkFDUEMsT0FBUSxpQ0FDUkMsS0FBTSxlQUNOQyxLQUFNLHNCQUNOOUcsT0FBUSxJQUVSMkcsTUFBTyx3QkFDUEMsT0FBUSx1QkFDUkMsS0FBTSxnQkFDTkMsS0FBTSxvQ0FDTjlHLE9BQVEsSUFFUjJHLE1BQU8sYUFDUEMsT0FBUSxpQkFDUkMsS0FBTSxjQUNOQyxLQUFNLGFBQ045RyxPQUFRLElBRVIyRyxNQUFPLHFCQUNQQyxPQUFRLFlBQ1JDLEtBQU0sZUFDTkMsS0FBTSwwQkFDTjlHLE9BQVEsSUFNZG9HLEdBQWdCVyxFQUFnQixXQUNoQ1gsRUFBZ0JNLEVBQWdCIiwiZmlsZSI6ImFsbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MTWVkaWFFbGVtZW50XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9IVE1ML1VzaW5nX0hUTUw1X2F1ZGlvX2FuZF92aWRlb1xuXG4kKGZ1bmN0aW9uICgpIHtcblxuICB2YXIgcHJvZ3Jlc3NNaWxlc3RvbmVzID0gWzEsIDIsIDQsIDgsIDEwLCAyNSwgNTAsIDc1LCA5NV07XG5cbiAgdmFyIGF1ZGlvUGxheWVyID0gZnVuY3Rpb24gYXVkaW9QbGF5ZXIoJGF1ZGlvUGxheWVyKSB7XG5cbiAgICB0aGlzLiRhdWRpb1BsYXllciA9ICRhdWRpb1BsYXllcjtcbiAgICB0aGlzLnN0dWIgPSB0aGlzLiRhdWRpb1BsYXllci5hdHRyKCdpZCcpO1xuICAgIHRoaXMucmF0aW5nID0gdGhpcy4kYXVkaW9QbGF5ZXIuZGF0YSgncmF0aW5nJyk7XG5cbiAgICB0aGlzLiRwbGF5UGF1c2VCdG4gPSB0aGlzLiRhdWRpb1BsYXllci5maW5kKCcucGxheS1wYXVzZScpLmVxKDApO1xuICAgIHRoaXMuJHRyYWNrID0gdGhpcy4kYXVkaW9QbGF5ZXIuZmluZCgnYXVkaW8nKS5lcSgwKTtcbiAgICB0aGlzLnRyYWNrID0gdGhpcy4kdHJhY2suZ2V0KDApO1xuXG4gICAgdGhpcy5pc1Bhc3RNaWxlc3RvbmUgPSB7fTsgLy9ldmVudHVhbGx5IHBvcHVsYXRlZCB3aXRoIHByb2dyZXNzIE1pbGVzdG9uZXMgYXMgbGlzdGVkIGluIHByb2dyZXNzTWlsZXN0b25lcyBhcnJheVxuICAgIHRoaXMuY29uc3RydWN0TWlsZXN0b25lcygpO1xuXG4gICAgdGhpcy4kcHJvZ3Jlc3NCYXIgPSB0aGlzLiRhdWRpb1BsYXllci5maW5kKCcucHJvZ3Jlc3MtYmFyJykuZXEoMCk7XG4gICAgdGhpcy4kYnVmZmVyID0gdGhpcy4kcHJvZ3Jlc3NCYXIuZmluZCgnLmJ1ZmZlcicpLmVxKDApO1xuICAgIHRoaXMuJHBsYXllZCA9IHRoaXMuJHByb2dyZXNzQmFyLmZpbmQoJy5wbGF5ZWQnKS5lcSgwKTtcblxuICAgIHRoaXMuJGN1cnJlbnRUaW1lID0gdGhpcy4kYXVkaW9QbGF5ZXIuZmluZCgnLmN1cnJlbnQtdGltZScpLmVxKDApO1xuICAgIHRoaXMuJG1peExlbmd0aCA9IHRoaXMuJGF1ZGlvUGxheWVyLmZpbmQoJy5taXgtbGVuZ3RoJykuZXEoMCk7XG4gICAgdGhpcy4kZGl2aWRlciA9IHRoaXMuJGF1ZGlvUGxheWVyLmZpbmQoJy5kaXZpZGVyJykuZXEoMCk7XG5cbiAgICB0aGlzLnRyYWNrUmVmcmVzaFRpbWVyID0gbnVsbDtcbiAgfTtcblxuICBhdWRpb1BsYXllci5wcm90b3R5cGUuY29uc3RydWN0TWlsZXN0b25lcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcHJvZ3Jlc3NNaWxlc3RvbmVzLmZvckVhY2goZnVuY3Rpb24gKG1pbGVzdG9uZSkge1xuICAgICAgX3RoaXMuaXNQYXN0TWlsZXN0b25lW21pbGVzdG9uZV0gPSBmYWxzZTtcbiAgICB9KTtcbiAgfTtcblxuICAvKlxuICAgICBLZWVwIGNoZWNraW5nIGlmIHByb2dyZXNzIGlzIHBhc3QgdGhlIG5leHQgbWlsZXN0b25lXG4gICAgIElmIGl0IGlzLCBsb2cgYSBwcm9ncmVzcyBldmVudCBhbmQgZW5zdXJlIFxuICAgIG5vIG1vcmUgcHJvZ3Jlc3MgZXZlbnRzIGFyZSBzZW50IGZvciB0aGlzIG1peFxuICAgKi9cbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLnNlbmRQcm9ncmVzc0V2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBwcm9ncmVzcyA9IHRoaXMudHJhY2suY3VycmVudFRpbWUgLyB0aGlzLnRyYWNrLmR1cmF0aW9uICogMTAwO1xuXG4gICAgcHJvZ3Jlc3NNaWxlc3RvbmVzLmZvckVhY2goZnVuY3Rpb24gKG1pbGVzdG9uZSkge1xuICAgICAgaWYgKHByb2dyZXNzID4gbWlsZXN0b25lKSB7XG4gICAgICAgIGlmICghX3RoaXMyLmlzUGFzdE1pbGVzdG9uZVttaWxlc3RvbmVdKSB7XG4gICAgICAgICAgLy9wYXN0IG1pbGVzdG9uZSBmb3IgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgICBfdGhpczIuaXNQYXN0TWlsZXN0b25lW21pbGVzdG9uZV0gPSB0cnVlO1xuICAgICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgJ01peCcsICdwcm9ncmVzcy0nICsgbWlsZXN0b25lLCBfdGhpczIuc3R1Yik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvL1BhdXNlIGFsbCB0cmFja3Mgb24gdGhlIHBhZ2Ugb3RoZXIgdGhhbiAndGhpcycgb25lXG4gIGF1ZGlvUGxheWVyLnByb3RvdHlwZS5wYXVzZUFsbE90aGVycyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICQoJy5hdWRpby1wbGF5ZXInKS5ub3QodGhpcy4kYXVkaW9QbGF5ZXIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBsYXlyID0gbmV3IGF1ZGlvUGxheWVyKCQodGhpcykpO1xuICAgICAgcGxheXIucGF1c2VUcmFjaygpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vY2hlY2sgaWYgdGhpcyBwbGF5ZXIgaXMgcGF1c2VkXG4gIGF1ZGlvUGxheWVyLnByb3RvdHlwZS5pc1BhdXNlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50cmFjay5wYXVzZWQ7XG4gIH07XG5cbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLnBhdXNlVHJhY2sgPSBmdW5jdGlvbiAoJGF1ZGlvUGxheWVyKSB7XG4gICAgdGhpcy50cmFjay5wYXVzZSgpO1xuICAgIHRoaXMuJGF1ZGlvUGxheWVyLnJlbW92ZUNsYXNzKCdwbGF5aW5nJyk7XG4gICAgdGhpcy4kcHJvZ3Jlc3NCYXIucmVtb3ZlQ2xhc3MoJ2V4cGFuZGVkJyk7XG4gIH07XG4gIGF1ZGlvUGxheWVyLnByb3RvdHlwZS5wbGF5VHJhY2sgPSBmdW5jdGlvbiAoJGF1ZGlvUGxheWVyKSB7XG5cbiAgICBnYSgnc2VuZCcsICdldmVudCcsICdNaXgnLCAncGxheScsIHRoaXMuc3R1YiwgdGhpcy5yYXRpbmcpO1xuXG4gICAgdGhpcy5wYXVzZUFsbE90aGVycygpO1xuICAgIHRoaXMudHJhY2sucGxheSgpO1xuICAgIHRoaXMuJGF1ZGlvUGxheWVyLmFkZENsYXNzKCdwbGF5aW5nJyk7XG4gICAgdGhpcy4kcHJvZ3Jlc3NCYXIuYWRkQ2xhc3MoJ2V4cGFuZGVkJyk7XG5cbiAgICB0aGlzLnN0YXJ0SW50ZXJ2YWwoKTtcblxuICAgIHRoaXMuJGN1cnJlbnRUaW1lLnRleHQodGhpcy5jdXJyZW50VGltZVN0cmluZygpKTtcbiAgICB0aGlzLiRkaXZpZGVyLnNob3coKTtcbiAgICB0aGlzLiRtaXhMZW5ndGgudGV4dCh0aGlzLmR1cmF0aW9uU3RyaW5nKCkpO1xuICB9O1xuXG4gIGF1ZGlvUGxheWVyLnByb3RvdHlwZS5zdGFydEludGVydmFsID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMudHJhY2tSZWZyZXNoVGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLnRpY2suYmluZCh0aGlzKSwgMTAwKTtcbiAgfTtcbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRyYWNrUmVmcmVzaFRpbWVyKTtcbiAgfTtcblxuICAvLyBPbmUgdGljayBvZiB0aGUgc29uZyByb2xscyBieSBhbmQgdGhlIHRpbWUgaXMgdXBkYXRlXG4gIGF1ZGlvUGxheWVyLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGN1cnJlbnRUaW1lLnRleHQodGhpcy5jdXJyZW50VGltZVN0cmluZygpKTtcbiAgICB0aGlzLnVwZGF0ZVByb2dyZXNzQmFyKCk7XG4gICAgdGhpcy5zZW5kUHJvZ3Jlc3NFdmVudHMoKTtcbiAgfTtcblxuICBhdWRpb1BsYXllci5wcm90b3R5cGUudXBkYXRlUHJvZ3Jlc3NCYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBsYXlQZXJjZW50YWdlID0gdGhpcy50cmFjay5jdXJyZW50VGltZSAvIHRoaXMudHJhY2suZHVyYXRpb24gKiAxMDA7XG4gICAgdGhpcy4kcGxheWVkLmNzcygnd2lkdGgnLCBwbGF5UGVyY2VudGFnZSArICclJyk7XG4gIH07XG5cbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLmN1cnJlbnRUaW1lU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRpbWVTdHJpbmcodGhpcy50cmFjay5jdXJyZW50VGltZSk7XG4gIH07XG5cbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLmR1cmF0aW9uU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRpbWVTdHJpbmcodGhpcy50cmFjay5kdXJhdGlvbik7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIHRpbWUgbGlrZSBNTTpTU1xuICBhdWRpb1BsYXllci5wcm90b3R5cGUudGltZVN0cmluZyA9IGZ1bmN0aW9uICh0aW1lKSB7XG5cbiAgICBpZiAoaXNOYU4odGltZSkpIHtcbiAgICAgIC8vZWVrLCB0cnkgYWdhaW4uIEhhcmQgdG8gcmVwcm9kdWNlXG4gICAgICBpZiAoaXNOYU4odGhpcy50cmFjay5kdXJhdGlvbikpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50cmFjay5kdXJhdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc2Vjb25kcyA9IFwiMFwiICsgTWF0aC5yb3VuZCh0aW1lICUgNjApO1xuICAgIHNlY29uZHMgPSBzZWNvbmRzLnN1YnN0cihzZWNvbmRzLmxlbmd0aCAtIDIpO1xuXG4gICAgcmV0dXJuIE1hdGgucm91bmQodGltZSAvIDYwKSArICc6JyArIHNlY29uZHM7XG4gIH07XG5cbiAgLy8gUGxheSBpZiBwYXVzZWQsIHBhdXNlIGlmIHBsYXlpbmdcbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLnRvZ2dsZVBsYXlQYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmlzUGF1c2VkKCkgPyB0aGlzLnBsYXlUcmFjaygpIDogdGhpcy5wYXVzZVRyYWNrKCk7XG4gIH07XG5cbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLnNlZWsgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgIHZhciBwbGF5UGVyY2VudGFnZSA9IGV2ZW50Lm9mZnNldFggLyAkKGV2ZW50LnRhcmdldCkud2lkdGgoKTtcbiAgICB0aGlzLnRyYWNrLmN1cnJlbnRUaW1lID0gcGxheVBlcmNlbnRhZ2UgKiB0aGlzLnRyYWNrLmR1cmF0aW9uO1xuICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3NCYXIoKTtcbiAgfTtcblxuICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5wbGF5LXBhdXNlJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBwbGF5ZXIgPSBuZXcgYXVkaW9QbGF5ZXIoJCh0aGlzKS5jbG9zZXN0KCcuYXVkaW8tcGxheWVyJykuZXEoMCkpO1xuICAgIHBsYXllci50b2dnbGVQbGF5UGF1c2UoKTtcbiAgfSk7XG5cbiAgJCgnYm9keScpLm9uKCdjbGljaycsICcucHJvZ3Jlc3MtYmFyJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIHBsYXllciA9IG5ldyBhdWRpb1BsYXllcigkKHRoaXMpLmNsb3Nlc3QoJy5hdWRpby1wbGF5ZXInKS5lcSgwKSk7XG4gICAgcGxheWVyLnNlZWsoZXZlbnQpO1xuICB9KTtcblxuICAvL3NlbmQgZ29vZ2xlLWFuYWx5dGljcyBzdGF0cyBmb3IgYSBtaXggZG93bmxvYWRcbiAgJCgnYm9keScpLm9uKCdjbGljaycsICcuZG93bmxvYWQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBnYSgnc2VuZCcsICdldmVudCcsICdNaXgnLCAnZG93bmxvYWQnLCAkKHRoaXMpLmNsb3Nlc3QoJy5hdWRpby1wbGF5ZXInKS5hdHRyKCdpZCcpLCAkKHRoaXMpLmNsb3Nlc3QoJy5hdWRpby1wbGF5ZXInKS5kYXRhKCdyYXRpbmcnKSk7XG4gIH0pO1xufSk7XG5cInVzZSBzdHJpY3RcIjtcblxuLyohXG4gKiBTdGFydCBCb290c3RyYXAgLSBHcmF5c2NhbGUgQm9vdHN0cmFwIFRoZW1lIChodHRwOi8vc3RhcnRib290c3RyYXAuY29tKVxuICogQ29kZSBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UgdjIuMC5cbiAqIEZvciBkZXRhaWxzLCBzZWUgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wLlxuICovXG5cbi8vIGpRdWVyeSB0byBjb2xsYXBzZSB0aGUgbmF2YmFyIG9uIHNjcm9sbFxuZnVuY3Rpb24gY29sbGFwc2VOYXZiYXIoKSB7XG4gICAgaWYgKCQoXCIubmF2YmFyXCIpLm9mZnNldCgpLnRvcCA+ICQoXCIjd2F2ZXNcIikub2Zmc2V0KCkudG9wIC0gMTUwKSB7XG4gICAgICAgICQoXCIubmF2YmFyLWZpeGVkLXRvcFwiKS5hZGRDbGFzcyhcInRvcC1uYXYtY29sbGFwc2VcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIi5uYXZiYXItZml4ZWQtdG9wXCIpLnJlbW92ZUNsYXNzKFwidG9wLW5hdi1jb2xsYXBzZVwiKTtcbiAgICB9XG59XG5cbiQod2luZG93KS5zY3JvbGwoY29sbGFwc2VOYXZiYXIpO1xuJChkb2N1bWVudCkucmVhZHkoY29sbGFwc2VOYXZiYXIpO1xuXG4vLyBqUXVlcnkgZm9yIHBhZ2Ugc2Nyb2xsaW5nIGZlYXR1cmUgLSByZXF1aXJlcyBqUXVlcnkgRWFzaW5nIHBsdWdpblxuJChmdW5jdGlvbiAoKSB7XG4gICAgJCgnYS5wYWdlLXNjcm9sbCcpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciAkYW5jaG9yID0gJCh0aGlzKTtcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogJCgkYW5jaG9yLmF0dHIoJ2hyZWYnKSkub2Zmc2V0KCkudG9wIC0gMTUwXG4gICAgICAgIH0sIDEwMDAsICdlYXNlSW5PdXRFeHBvJyk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG59KTtcblxuLy8gQ2xvc2VzIHRoZSBSZXNwb25zaXZlIE1lbnUgb24gTWVudSBJdGVtIENsaWNrXG4kKCcubmF2YmFyLWNvbGxhcHNlIHVsIGxpIGEnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCQodGhpcykuYXR0cignY2xhc3MnKSAhPSAnZHJvcGRvd24tdG9nZ2xlIGFjdGl2ZScgJiYgJCh0aGlzKS5hdHRyKCdjbGFzcycpICE9ICdkcm9wZG93bi10b2dnbGUnKSB7XG4gICAgICAgICQoJy5uYXZiYXItdG9nZ2xlOnZpc2libGUnKS5jbGljaygpO1xuICAgIH1cbn0pO1xuJ3VzZSBzdHJpY3QnO1xuXG4vKiBcbiAgQW5pbWF0ZSByYXRpbmdzIGJhciBieSBjaGFuZ2luZyBvcGFjaXR5IG9mIHNldmVyYWwgYmxvY2tzXG4gICovXG4kKGZ1bmN0aW9uICgpIHtcblxuICAvLyAgNjBzLzEyNWJwbSA9IDQ4MG1zXG4gIHZhciBBTklNQVRJT05fUEVSSU9EID0gNjAuMCAvIDEyNSAqIDEwMDA7XG4gIHZhciBERUZBVUxUX09QQUNJVFkgPSAnMC40JztcbiAgdmFyIElOQ1JFQVNFRF9PUEFDSVRZID0gJzAuNSc7XG4gIHZhciAkcmF0aW5nX2Jsb2NrcyA9ICQoJy5ib3R0b20tYmFyIC5yYXRpbmctYmxvY2snKTtcbiAgdmFyIG51bV9yYXRpbmdzID0gJHJhdGluZ19ibG9ja3MubGVuZ3RoO1xuICB2YXIgb3JpZ2luYWxfYmxvY2tfaGVpZ2h0ID0gJHJhdGluZ19ibG9ja3MuZXEoMCkuaGVpZ2h0KCk7XG5cbiAgaWYgKG51bV9yYXRpbmdzID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRXZlcnkgeCBtcywgZG8uLi5cbiAgLy8gIHJlc2V0IGFsbCBvcGFjaXRpZXNcbiAgLy8gIGNob29zZSB4IHJhbmRvbSByYXRpbmcgYmxvY2tzIHRvIGRhcmtlblxuICAvLyAgY2hvb3NlIGEgcmFuZG9tIGJsb2NrIGZyb20gdGhhdCBncm91cCB0byBkYXJrZW4sIG92ZXJsYXAgb2tcbiAgLy8gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcblxuICAgIC8vZWFjaCB0aW1lLCBhIGRpZmZlcmVudCBudW1iZXIgb2YgYmxvY2tzIGFyZSBjaG9zZW5cbiAgICB2YXIgYmxvY2tzX3RvX2JsYW5rID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbnVtX3JhdGluZ3MpICsgMTtcblxuICAgICRyYXRpbmdfYmxvY2tzLm5vdCgnLmFjdGl2ZScpLmNzcygnb3BhY2l0eScsIERFRkFVTFRfT1BBQ0lUWSk7XG4gICAgLy8gLmNzcygnaGVpZ2h0Jywgb3JpZ2luYWxfYmxvY2tfaGVpZ2h0KydweCcpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibG9ja3NfdG9fYmxhbms7IGkrKykge1xuICAgICAgdmFyIHJhbmRfYmxvY2tfaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBudW1fcmF0aW5ncykgKyAxO1xuXG4gICAgICBpZiAoISRyYXRpbmdfYmxvY2tzLmVxKHJhbmRfYmxvY2tfaW5kZXgpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAkcmF0aW5nX2Jsb2Nrcy5lcShyYW5kX2Jsb2NrX2luZGV4KS5jc3MoJ29wYWNpdHknLCBJTkNSRUFTRURfT1BBQ0lUWSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBBTklNQVRJT05fUEVSSU9EKTtcblxuICAvLyBjb250cm9sIHNob3dpbmcgVi1yYXRpbmcgZGVzY3JpcHRpb25zIG9uIGhvdmVyIG9mIFYtY29sb3IgYnV0dG9uXG4gICQoJy5ib3R0b20tYmFyID4gZGl2Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciByYXRpbmcgPSAkKHRoaXMpLmZpbmQoJy5yYXRpbmctYmxvY2snKS5kYXRhKCdyYXRpbmcnKTtcbiAgICBzaG93QW5kSGlnaGxpZ2h0UmF0aW5nKHJhdGluZyk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHNob3dBbmRIaWdobGlnaHRSYXRpbmcocmF0aW5nKSB7XG5cbiAgICAvL2hpZGUgYWxsIG90aGVyIGRlc2NyaXB0aW9uc1xuICAgICQoJy52LWRlc2NyaXB0aW9ucyA+IHAnKS5ub3QoJy52LWRlc2NyaXB0aW9ucyA+IHBbZGF0YS1yYXRpbmc9XCInICsgcmF0aW5nICsgJ1wiXScpLmhpZGUoKTtcblxuICAgIC8vcmVtb3ZlIG90aGVyIGFjdGl2ZSBvcGFjaXRpZXNcbiAgICAkKCcuYm90dG9tLWJhciA+IGRpdiAucmF0aW5nLWJsb2NrJykubm90KCcuYm90dG9tLWJhciA+IGRpdiAucmF0aW5nLWJsb2NrW2RhdGEtcmF0aW5nPVwiJyArIHJhdGluZyArICdcIl0nKS5jc3MoJ29wYWNpdHknLCBERUZBVUxUX09QQUNJVFkpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICQoJy5ib3R0b20tYmFyID4gZGl2IC5yYXRpbmctYmxvY2tbZGF0YS1yYXRpbmc9XCInICsgcmF0aW5nICsgJ1wiXScpLmNzcygnb3BhY2l0eScsIDEpLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICQoJy52LWRlc2NyaXB0aW9ucyA+IHBbZGF0YS1yYXRpbmc9XCInICsgcmF0aW5nICsgJ1wiXScpLnNob3coKTtcbiAgfVxufSk7XG5cbi8qIFxuICBIYW5kbGUgZGlyZWN0LWxpbmsgdmlhIHF1ZXJ5IHN0cmluZy4gXG4gIGdldCB0aGUgc3R1YiBmcm9tIHRoZSB1cmwsIGxpa2UgZGptb3VudGFpbm91cy5jb20/Ymx1ZXByaW50LTE5LXdhcm11cFxuXG4gIExpbmsgbGlrZSBhYm92ZSBpcyBpbnB1dCwgXG4qL1xuJChmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIHNlYXJjaCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gucmVwbGFjZShcIj9cIiwgXCJcIik7XG5cbiAgaWYgKHNlYXJjaC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBzZXQgb3RoZXIgbWl4ZXMgdG8gbm90aGluZ1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAkKCcubWl4Jykubm90KCcuJyArIHNlYXJjaCkuY3NzKCdvcGFjaXR5JywgMC41KTtcbiAgICAkKCcubWl4LWdyb3VwX190aXRsZSwgLmdyb3VwLWRlc2NyaXB0aW9uJykuY3NzKCdvcGFjaXR5JywgMC41KTtcbiAgfSwgMCk7XG5cbiAgLy93aGVuIGFueXRoaW5nIGlzIGNsaWNrZWQsIHNldCB0aGUgb3BhY2l0eSBvZiB0aGUgbWl4ZXMgYmFjayB0byAxXG4gICQoJyonKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnLm1peCcpLmNzcygnb3BhY2l0eScsIDEpO1xuICB9KTtcblxuICAkKCcjbWl4ZXMnKS5vbignY2xpY2snLCAnLm1peF9fZGV0YWlscyAucmF0aW5nJywgZnVuY3Rpb24gKCkge1xuICAgICQoJy5yYXRpbmctYmxvY2tbZGF0YS1yYXRpbmc9XCInICsgJCh0aGlzKS5kYXRhKCdyYXRpbmcnKSArICdcIl0nKS5jbG9zZXN0KCdkaXYnKS50cmlnZ2VyKCdob3ZlcicpO1xuICAgICQoJy5yYXRpbmctYmxvY2tbZGF0YS1yYXRpbmc9XCInICsgJCh0aGlzKS5kYXRhKCdyYXRpbmcnKSArICdcIl0nKS5jbG9zZXN0KCdkaXYnKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICQoJ2h0bWwsIGJvZHknKS5zY3JvbGxUb3AoJCgnLmJvdHRvbS1iYXInKS5vZmZzZXQoKS50b3AgLSAxMzApO1xuICB9KTtcbn0pO1xuXG4vKiBcbiAgRmFkZSBwbGF5IGJ1dHRvbiBpblxuKi9cbiQoZnVuY3Rpb24gKCkge1xuXG4gIC8vICAgLy8gLy9zY3JvbGwgdGhhdCBlbGVtZW50J3MgdG9wICBcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgJCgnLmF1ZGlvLWNvbnRyb2xzX19iYWNrZ3JvdW5kJykucmVtb3ZlQ2xhc3MoJ3N0YXJ0LXBvc2l0aW9uJyk7XG4gIH0sIDEwKTtcbn0pO1xuXG4vKiBcbiAgc3RhYmlsaXplIHZpZGVvcyBieSByZXN0YXJ0aW5nIHRoZW0gZXZlcnkgWCBzZWNvbmRzIChsZWdudGggb2YgdmlkZW8pXG4qL1xuJChmdW5jdGlvbiAoKSB7XG5cbiAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgIFsndmlkZW8tbGVmdCcsICd2aWRlby1yaWdodCddLmZvckVhY2goZnVuY3Rpb24gKHZpZGVvSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiUmVzdGFydGluZyB2aWRlby1sZWZ0XCIpO1xuICAgICAgbWVkaWFFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmlkZW9JZCk7XG4gICAgICBtZWRpYUVsZW1lbnQucGF1c2UoKTtcbiAgICAgIG1lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IDA7XG4gICAgICBtZWRpYUVsZW1lbnQucGxheSgpO1xuICAgIH0pO1xuICB9LCAzNDAwMCk7IC8vdmlkZW8gbGVuZ3RoIGlzIDM0IHNlY29uZHMgXG59KTtcblwidXNlIHN0cmljdFwiO1xuXG4kKGZ1bmN0aW9uICgpIHtcblxuICAvLyBtaXhlcyBNVVNUIGJlIG5hbWVkIGRqLW1vdXRhaW5vdXMte3NsdWd9LihtcDMvbTRhKVxuICAvLyBpLmUuIGRqLW1vdW50YWlub3VzLXZhLXRlY2gtaG91c2VcblxuICB2YXIgY2FsbV9taXhlcyA9IHtcbiAgICBtaXhlczogW1xuICAgIC8vbmV3IG1peCBnb2VzIGhlcmVcbiAgICB7XG4gICAgICB0aXRsZTogXCJFbGZpbiBMYWtlc1wiLFxuICAgICAgZ2VucmVzOiBcIkhvdXNlLCBQcm9ncmVzc2l2ZSwgVHJhbmNlXCIsXG4gICAgICBkYXRlOiBcIkphbnVhcnkgMjAxN1wiLFxuICAgICAgc2x1ZzogXCJlbGZpbi1sYWtlc1wiLFxuICAgICAgcmF0aW5nOiA0XG4gICAgfSwge1xuICAgICAgdGl0bGU6IFwiSGVsbSBDcmVla1wiLFxuICAgICAgZ2VucmVzOiBcIkRlZXAgSG91c2UsIENoaWxsZWRcIixcbiAgICAgIGRhdGU6IFwiT2N0b2JlciAyMDE2XCIsXG4gICAgICBzbHVnOiBcImhlbG0tY3JlZWstYW1iaWVudC1kZWVwXCIsXG4gICAgICByYXRpbmc6IDFcbiAgICB9LCB7XG4gICAgICB0aXRsZTogXCJUaGUgRWlnZXJcIixcbiAgICAgIGdlbnJlczogXCJUZWNoIEhvdXNlXCIsXG4gICAgICBkYXRlOiBcIlNlcHQgMjAxNlwiLFxuICAgICAgc2x1ZzogXCJ2YS10ZWNoLWhvdXNlXCIsXG4gICAgICByYXRpbmc6IDNcbiAgICB9LCB7XG4gICAgICB0aXRsZTogXCJHYXJpYmFsZGlcIixcbiAgICAgIGdlbnJlczogXCJEZWVwIEhvdXNlXCIsXG4gICAgICBkYXRlOiBcIkp1bmUgMjAxNlwiLFxuICAgICAgc2x1ZzogXCJ2YS1kZWVwLWhvdXNlLXYyXCIsXG4gICAgICByYXRpbmc6IDJcbiAgICB9XVxuICB9O1xuXG4gIHZhciBpbnRlbnNlX21peGVzID0ge1xuICAgIG1peGVzOiBbXG4gICAgLy9uZXcgbWl4IGdvZXMgaGVyZVxuICAgIHtcbiAgICAgIHRpdGxlOiBcIkJsdWVwcmludCAxOXRoIFdhcm11cFwiLFxuICAgICAgZ2VucmVzOiBcIlJlenogR3JpeiBHcmltZSBXLlMuTiBERnJhbmNpc1wiLFxuICAgICAgZGF0ZTogXCJPY3RvYmVyIDIwMTZcIixcbiAgICAgIHNsdWc6IFwiYmx1ZXByaW50LTE5LXdhcm11cFwiLFxuICAgICAgcmF0aW5nOiA5XG4gICAgfSwge1xuICAgICAgdGl0bGU6IFwiTGl2ZSBAIEJpcnRoUmF2ZSAyMDE2XCIsXG4gICAgICBnZW5yZXM6IFwiQmFzcyBGdW5rLCBUcmFwLCBEdWJcIixcbiAgICAgIGRhdGU6IFwiU2VwdCAyNCwgMjAxNlwiLFxuICAgICAgc2x1ZzogXCJsaXZlLWJpcnRocmF2ZS0yMDE2LWJhc3MtZnVuay1kdWJcIixcbiAgICAgIHJhdGluZzogOFxuICAgIH0sIHtcbiAgICAgIHRpdGxlOiBcIkJsYWNrIFR1c2tcIixcbiAgICAgIGdlbnJlczogXCJUcmFwICYgRHVic3RlcFwiLFxuICAgICAgZGF0ZTogXCJBdWd1c3QgMjAxNlwiLFxuICAgICAgc2x1ZzogXCJ2YS1kdWJ0cmFwXCIsXG4gICAgICByYXRpbmc6IDlcbiAgICB9LCB7XG4gICAgICB0aXRsZTogXCJTZXZlbiBMaW9ucyB3YXJtdXBcIixcbiAgICAgIGdlbnJlczogXCJEcmVhbXN0ZXBcIixcbiAgICAgIGRhdGU6IFwiT2N0b2JlciAyMDE2XCIsXG4gICAgICBzbHVnOiBcInNldmVuLWxpb25zLXdhcm0tdXAtbWl4XCIsXG4gICAgICByYXRpbmc6IDdcbiAgICB9XVxuICB9OyAvLyBpbnRlbnNlIG1peGVzXG5cbiAgLy8gLy9pbmplY3QgaGFuZGxlYmFycyB0ZW1wbGF0ZXMgd2l0aCBtaXggZGF0YVxuICBpbmplY3RUZW1wbGF0ZXMoaW50ZW5zZV9taXhlcywgJ2ludGVuc2UnKTtcbiAgaW5qZWN0VGVtcGxhdGVzKGNhbG1fbWl4ZXMsICdjYWxtJyk7XG5cbiAgZnVuY3Rpb24gaW5qZWN0VGVtcGxhdGVzKGRhdGEsIHR5cGUpIHtcblxuICAgIHZhciBodG1sID0gTXlBcHAudGVtcGxhdGVzLm1peGVzKGRhdGEpO1xuICAgICQoJyNtaXhlcy10bXBsLScgKyB0eXBlKS5odG1sKGh0bWwpO1xuICB9XG59KTsiLCIvKiFcbiAqIFN0YXJ0IEJvb3RzdHJhcCAtIEdyYXlzY2FsZSBCb290c3RyYXAgVGhlbWUgKGh0dHA6Ly9zdGFydGJvb3RzdHJhcC5jb20pXG4gKiBDb2RlIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSB2Mi4wLlxuICogRm9yIGRldGFpbHMsIHNlZSBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAuXG4gKi9cblxuLy8galF1ZXJ5IHRvIGNvbGxhcHNlIHRoZSBuYXZiYXIgb24gc2Nyb2xsXG5mdW5jdGlvbiBjb2xsYXBzZU5hdmJhcigpIHtcbiAgICBpZiAoJChcIi5uYXZiYXJcIikub2Zmc2V0KCkudG9wID4gJChcIiN3YXZlc1wiKS5vZmZzZXQoKS50b3AgLSAxNTApIHtcbiAgICAgICAgJChcIi5uYXZiYXItZml4ZWQtdG9wXCIpLmFkZENsYXNzKFwidG9wLW5hdi1jb2xsYXBzZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiLm5hdmJhci1maXhlZC10b3BcIikucmVtb3ZlQ2xhc3MoXCJ0b3AtbmF2LWNvbGxhcHNlXCIpO1xuICAgIH1cbn1cblxuJCh3aW5kb3cpLnNjcm9sbChjb2xsYXBzZU5hdmJhcik7XG4kKGRvY3VtZW50KS5yZWFkeShjb2xsYXBzZU5hdmJhcik7XG5cbi8vIGpRdWVyeSBmb3IgcGFnZSBzY3JvbGxpbmcgZmVhdHVyZSAtIHJlcXVpcmVzIGpRdWVyeSBFYXNpbmcgcGx1Z2luXG4kKGZ1bmN0aW9uKCkge1xuICAgICQoJ2EucGFnZS1zY3JvbGwnKS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciAkYW5jaG9yID0gJCh0aGlzKTtcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogJCgkYW5jaG9yLmF0dHIoJ2hyZWYnKSkub2Zmc2V0KCkudG9wLTE1MFxuICAgICAgICB9LCAxMDAwLCAnZWFzZUluT3V0RXhwbycpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufSk7XG5cbi8vIENsb3NlcyB0aGUgUmVzcG9uc2l2ZSBNZW51IG9uIE1lbnUgSXRlbSBDbGlja1xuJCgnLm5hdmJhci1jb2xsYXBzZSB1bCBsaSBhJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gIGlmICgkKHRoaXMpLmF0dHIoJ2NsYXNzJykgIT0gJ2Ryb3Bkb3duLXRvZ2dsZSBhY3RpdmUnICYmICQodGhpcykuYXR0cignY2xhc3MnKSAhPSAnZHJvcGRvd24tdG9nZ2xlJykge1xuICAgICQoJy5uYXZiYXItdG9nZ2xlOnZpc2libGUnKS5jbGljaygpO1xuICB9XG59KTtcbiIsIlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxNZWRpYUVsZW1lbnRcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0d1aWRlL0hUTUwvVXNpbmdfSFRNTDVfYXVkaW9fYW5kX3ZpZGVvXG5cbiQoZnVuY3Rpb24oKXtcblxuICBjb25zdCBwcm9ncmVzc01pbGVzdG9uZXMgPSBbMSwgMiwgNCwgOCwgMTAsIDI1LCA1MCwgNzUsIDk1XTtcblxuICB2YXIgYXVkaW9QbGF5ZXIgPSBmdW5jdGlvbigkYXVkaW9QbGF5ZXIpe1xuXG4gICAgdGhpcy4kYXVkaW9QbGF5ZXIgPSAkYXVkaW9QbGF5ZXI7XG4gICAgdGhpcy5zdHViID0gdGhpcy4kYXVkaW9QbGF5ZXIuYXR0cignaWQnKTtcbiAgICB0aGlzLnJhdGluZyA9IHRoaXMuJGF1ZGlvUGxheWVyLmRhdGEoJ3JhdGluZycpO1xuXG4gICAgdGhpcy4kcGxheVBhdXNlQnRuID0gdGhpcy4kYXVkaW9QbGF5ZXIuZmluZCgnLnBsYXktcGF1c2UnKS5lcSgwKTtcbiAgICB0aGlzLiR0cmFjayA9IHRoaXMuJGF1ZGlvUGxheWVyLmZpbmQoJ2F1ZGlvJykuZXEoMCk7XG4gICAgdGhpcy50cmFjayA9IHRoaXMuJHRyYWNrLmdldCgwKTtcblxuICAgIHRoaXMuaXNQYXN0TWlsZXN0b25lID0ge307IC8vZXZlbnR1YWxseSBwb3B1bGF0ZWQgd2l0aCBwcm9ncmVzcyBNaWxlc3RvbmVzIGFzIGxpc3RlZCBpbiBwcm9ncmVzc01pbGVzdG9uZXMgYXJyYXlcbiAgICB0aGlzLmNvbnN0cnVjdE1pbGVzdG9uZXMoKTtcblxuICAgIHRoaXMuJHByb2dyZXNzQmFyID0gdGhpcy4kYXVkaW9QbGF5ZXIuZmluZCgnLnByb2dyZXNzLWJhcicpLmVxKDApO1xuICAgIHRoaXMuJGJ1ZmZlciAgICAgID0gdGhpcy4kcHJvZ3Jlc3NCYXIuZmluZCgnLmJ1ZmZlcicpLmVxKDApO1xuICAgIHRoaXMuJHBsYXllZCAgICAgID0gdGhpcy4kcHJvZ3Jlc3NCYXIuZmluZCgnLnBsYXllZCcpLmVxKDApO1xuXG4gICAgdGhpcy4kY3VycmVudFRpbWUgPSB0aGlzLiRhdWRpb1BsYXllci5maW5kKCcuY3VycmVudC10aW1lJykuZXEoMCk7XG4gICAgdGhpcy4kbWl4TGVuZ3RoICAgPSB0aGlzLiRhdWRpb1BsYXllci5maW5kKCcubWl4LWxlbmd0aCcpLmVxKDApO1xuICAgIHRoaXMuJGRpdmlkZXIgICAgID0gdGhpcy4kYXVkaW9QbGF5ZXIuZmluZCgnLmRpdmlkZXInKS5lcSgwKTtcblxuICAgIHRoaXMudHJhY2tSZWZyZXNoVGltZXIgPSBudWxsO1xuICB9XG5cbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLmNvbnN0cnVjdE1pbGVzdG9uZXMgPSBmdW5jdGlvbigpe1xuICAgIHByb2dyZXNzTWlsZXN0b25lcy5mb3JFYWNoKChtaWxlc3RvbmUpID0+IHtcbiAgICAgIHRoaXMuaXNQYXN0TWlsZXN0b25lW21pbGVzdG9uZV0gPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qXG5cbiAgICBLZWVwIGNoZWNraW5nIGlmIHByb2dyZXNzIGlzIHBhc3QgdGhlIG5leHQgbWlsZXN0b25lXG5cbiAgICBJZiBpdCBpcywgbG9nIGEgcHJvZ3Jlc3MgZXZlbnQgYW5kIGVuc3VyZSBcbiAgICBubyBtb3JlIHByb2dyZXNzIGV2ZW50cyBhcmUgc2VudCBmb3IgdGhpcyBtaXhcblxuICAqL1xuICBhdWRpb1BsYXllci5wcm90b3R5cGUuc2VuZFByb2dyZXNzRXZlbnRzID0gZnVuY3Rpb24oKXtcblxuICAgIGxldCBwcm9ncmVzcyA9ICh0aGlzLnRyYWNrLmN1cnJlbnRUaW1lIC8gdGhpcy50cmFjay5kdXJhdGlvbikgKiAxMDA7XG5cbiAgICBwcm9ncmVzc01pbGVzdG9uZXMuZm9yRWFjaCgobWlsZXN0b25lKSA9PiB7XG4gICAgICBpZihwcm9ncmVzcyA+IG1pbGVzdG9uZSl7XG4gICAgICAgIGlmKCF0aGlzLmlzUGFzdE1pbGVzdG9uZVttaWxlc3RvbmVdKXsgIC8vcGFzdCBtaWxlc3RvbmUgZm9yIHRoZSBmaXJzdCB0aW1lXG4gICAgICAgICAgdGhpcy5pc1Bhc3RNaWxlc3RvbmVbbWlsZXN0b25lXSA9IHRydWU7XG4gICAgICAgICAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCAnTWl4JywgJ3Byb2dyZXNzLScrbWlsZXN0b25lLCB0aGlzLnN0dWIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7IFxuICB9XG5cbiAgLy9QYXVzZSBhbGwgdHJhY2tzIG9uIHRoZSBwYWdlIG90aGVyIHRoYW4gJ3RoaXMnIG9uZVxuICBhdWRpb1BsYXllci5wcm90b3R5cGUucGF1c2VBbGxPdGhlcnMgPSBmdW5jdGlvbigpe1xuXG4gICAgJCgnLmF1ZGlvLXBsYXllcicpLm5vdCh0aGlzLiRhdWRpb1BsYXllcikuZWFjaChmdW5jdGlvbigpe1xuICAgICAgdmFyIHBsYXlyID0gbmV3IGF1ZGlvUGxheWVyKCQodGhpcykpO1xuICAgICAgcGxheXIucGF1c2VUcmFjaygpO1xuICAgIH0pO1xuICB9XG5cbiAgLy9jaGVjayBpZiB0aGlzIHBsYXllciBpcyBwYXVzZWRcbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLmlzUGF1c2VkID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy50cmFjay5wYXVzZWQ7XG4gIH1cblxuICBhdWRpb1BsYXllci5wcm90b3R5cGUucGF1c2VUcmFjayA9IGZ1bmN0aW9uKCRhdWRpb1BsYXllcil7XG4gICAgdGhpcy50cmFjay5wYXVzZSgpO1xuICAgIHRoaXMuJGF1ZGlvUGxheWVyLnJlbW92ZUNsYXNzKCdwbGF5aW5nJyk7XG4gICAgdGhpcy4kcHJvZ3Jlc3NCYXIucmVtb3ZlQ2xhc3MoJ2V4cGFuZGVkJyk7XG4gIH1cbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLnBsYXlUcmFjayA9IGZ1bmN0aW9uKCRhdWRpb1BsYXllcil7XG5cbiAgICBnYSgnc2VuZCcsICdldmVudCcsICdNaXgnLCAncGxheScsIFxuICAgICAgdGhpcy5zdHViLCB0aGlzLnJhdGluZyk7XG5cbiAgICB0aGlzLnBhdXNlQWxsT3RoZXJzKCk7XG4gICAgdGhpcy50cmFjay5wbGF5KCk7XG4gICAgdGhpcy4kYXVkaW9QbGF5ZXIuYWRkQ2xhc3MoJ3BsYXlpbmcnKTtcbiAgICB0aGlzLiRwcm9ncmVzc0Jhci5hZGRDbGFzcygnZXhwYW5kZWQnKTtcblxuICAgIHRoaXMuc3RhcnRJbnRlcnZhbCgpO1xuXG4gICAgdGhpcy4kY3VycmVudFRpbWUudGV4dCh0aGlzLmN1cnJlbnRUaW1lU3RyaW5nKCkpO1xuICAgIHRoaXMuJGRpdmlkZXIuc2hvdygpO1xuICAgIHRoaXMuJG1peExlbmd0aC50ZXh0KHRoaXMuZHVyYXRpb25TdHJpbmcoKSk7XG4gIH1cblxuICBhdWRpb1BsYXllci5wcm90b3R5cGUuc3RhcnRJbnRlcnZhbCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy50cmFja1JlZnJlc2hUaW1lciA9IHNldEludGVydmFsKHRoaXMudGljay5iaW5kKHRoaXMpLCAxMDApO1xuICB9XG4gIGF1ZGlvUGxheWVyLnByb3RvdHlwZS5jbGVhckludGVydmFsID0gZnVuY3Rpb24oKXtcbiAgICBjbGVhckludGVydmFsKHRoaXMudHJhY2tSZWZyZXNoVGltZXIpO1xuICB9XG5cbiAgLy8gT25lIHRpY2sgb2YgdGhlIHNvbmcgcm9sbHMgYnkgYW5kIHRoZSB0aW1lIGlzIHVwZGF0ZVxuICBhdWRpb1BsYXllci5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy4kY3VycmVudFRpbWUudGV4dCh0aGlzLmN1cnJlbnRUaW1lU3RyaW5nKCkpO1xuICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3NCYXIoKTtcbiAgICB0aGlzLnNlbmRQcm9ncmVzc0V2ZW50cygpO1xuICB9XG5cbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLnVwZGF0ZVByb2dyZXNzQmFyID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcGxheVBlcmNlbnRhZ2UgPSAodGhpcy50cmFjay5jdXJyZW50VGltZSAvIHRoaXMudHJhY2suZHVyYXRpb24pICogMTAwO1xuICAgIHRoaXMuJHBsYXllZC5jc3MoJ3dpZHRoJywgcGxheVBlcmNlbnRhZ2UrJyUnKTtcbiAgfVxuXG4gIGF1ZGlvUGxheWVyLnByb3RvdHlwZS5jdXJyZW50VGltZVN0cmluZyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMudGltZVN0cmluZyh0aGlzLnRyYWNrLmN1cnJlbnRUaW1lKTtcbiAgfVxuXG4gIGF1ZGlvUGxheWVyLnByb3RvdHlwZS5kdXJhdGlvblN0cmluZyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMudGltZVN0cmluZyh0aGlzLnRyYWNrLmR1cmF0aW9uKTtcbiAgfVxuXG4gIC8vIFJldHVybnMgYSB0aW1lIGxpa2UgTU06U1NcbiAgYXVkaW9QbGF5ZXIucHJvdG90eXBlLnRpbWVTdHJpbmcgPSBmdW5jdGlvbih0aW1lKXtcblxuICAgIGlmKGlzTmFOKHRpbWUpKVxuICAgIHsgLy9lZWssIHRyeSBhZ2Fpbi4gSGFyZCB0byByZXByb2R1Y2VcbiAgICAgIGlmKGlzTmFOKHRoaXMudHJhY2suZHVyYXRpb24pKXtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfWVsc2Uge1xuICAgICAgICB0aGlzLnRyYWNrLmR1cmF0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzZWNvbmRzID0gXCIwXCIgKyBNYXRoLnJvdW5kKHRpbWUlNjApO1xuICAgIHNlY29uZHMgPSBzZWNvbmRzLnN1YnN0cihzZWNvbmRzLmxlbmd0aC0yKTtcblxuICAgIHJldHVybiAgTWF0aC5yb3VuZCh0aW1lLzYwKSsnOicrc2Vjb25kcztcbiAgfVxuXG4gIC8vIFBsYXkgaWYgcGF1c2VkLCBwYXVzZSBpZiBwbGF5aW5nXG4gIGF1ZGlvUGxheWVyLnByb3RvdHlwZS50b2dnbGVQbGF5UGF1c2UgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuaXNQYXVzZWQoKSA/IHRoaXMucGxheVRyYWNrKCkgOiB0aGlzLnBhdXNlVHJhY2soKTtcbiAgfVxuXG4gIGF1ZGlvUGxheWVyLnByb3RvdHlwZS5zZWVrID0gZnVuY3Rpb24oZXZlbnQpe1xuXG4gICAgdmFyIHBsYXlQZXJjZW50YWdlID0gZXZlbnQub2Zmc2V0WCAvICQoZXZlbnQudGFyZ2V0KS53aWR0aCgpO1xuICAgIHRoaXMudHJhY2suY3VycmVudFRpbWUgPSBwbGF5UGVyY2VudGFnZSAqIHRoaXMudHJhY2suZHVyYXRpb247XG4gICAgdGhpcy51cGRhdGVQcm9ncmVzc0JhcigpO1xuICB9ICBcblxuICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5wbGF5LXBhdXNlJywgZnVuY3Rpb24oKXtcbiAgICB2YXIgcGxheWVyID0gbmV3IGF1ZGlvUGxheWVyKCQodGhpcykuY2xvc2VzdCgnLmF1ZGlvLXBsYXllcicpLmVxKDApKTtcbiAgICBwbGF5ZXIudG9nZ2xlUGxheVBhdXNlKCk7XG4gIH0pO1xuXG4gICQoJ2JvZHknKS5vbignY2xpY2snLCAnLnByb2dyZXNzLWJhcicsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICB2YXIgcGxheWVyID0gbmV3IGF1ZGlvUGxheWVyKCQodGhpcykuY2xvc2VzdCgnLmF1ZGlvLXBsYXllcicpLmVxKDApKTtcbiAgICBwbGF5ZXIuc2VlayhldmVudCk7XG4gIH0pO1xuXG4gIC8vc2VuZCBnb29nbGUtYW5hbHl0aWNzIHN0YXRzIGZvciBhIG1peCBkb3dubG9hZFxuICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5kb3dubG9hZCcsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICBnYSgnc2VuZCcsICdldmVudCcsICdNaXgnLCAnZG93bmxvYWQnLCBcbiAgICAgICQodGhpcykuY2xvc2VzdCgnLmF1ZGlvLXBsYXllcicpLmF0dHIoJ2lkJyksIFxuICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuYXVkaW8tcGxheWVyJykuZGF0YSgncmF0aW5nJykpO1xuICB9KTtcblxufSk7ICIsIiAgXG4vKiBcbiAgQW5pbWF0ZSByYXRpbmdzIGJhciBieSBjaGFuZ2luZyBvcGFjaXR5IG9mIHNldmVyYWwgYmxvY2tzXG4gICovXG4kKGZ1bmN0aW9uKCl7XG4gIFxuICAvLyAgNjBzLzEyNWJwbSA9IDQ4MG1zXG4gIHZhciBBTklNQVRJT05fUEVSSU9EID0gKDYwLjAvMTI1KSoxMDAwO1xuICB2YXIgREVGQVVMVF9PUEFDSVRZID0gJzAuNCc7XG4gIHZhciBJTkNSRUFTRURfT1BBQ0lUWSA9ICcwLjUnO1xuICB2YXIgJHJhdGluZ19ibG9ja3MgPSAkKCcuYm90dG9tLWJhciAucmF0aW5nLWJsb2NrJyk7XG4gIHZhciBudW1fcmF0aW5ncyA9ICRyYXRpbmdfYmxvY2tzLmxlbmd0aDtcbiAgdmFyIG9yaWdpbmFsX2Jsb2NrX2hlaWdodCA9ICRyYXRpbmdfYmxvY2tzLmVxKDApLmhlaWdodCgpO1xuXG4gIGlmKG51bV9yYXRpbmdzID09PSAwKXtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBFdmVyeSB4IG1zLCBkby4uLlxuICAvLyAgcmVzZXQgYWxsIG9wYWNpdGllc1xuICAvLyAgY2hvb3NlIHggcmFuZG9tIHJhdGluZyBibG9ja3MgdG8gZGFya2VuXG4gIC8vICBjaG9vc2UgYSByYW5kb20gYmxvY2sgZnJvbSB0aGF0IGdyb3VwIHRvIGRhcmtlbiwgb3ZlcmxhcCBva1xuICAvLyBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXG4gICAgLy9lYWNoIHRpbWUsIGEgZGlmZmVyZW50IG51bWJlciBvZiBibG9ja3MgYXJlIGNob3NlblxuICAgIHZhciBibG9ja3NfdG9fYmxhbmsgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbnVtX3JhdGluZ3MpKzE7XG4gICAgXG4gICAgJHJhdGluZ19ibG9ja3Mubm90KCcuYWN0aXZlJykuY3NzKCdvcGFjaXR5JywgREVGQVVMVF9PUEFDSVRZKTtcbiAgICAgICAgICAgICAgICAgIC8vIC5jc3MoJ2hlaWdodCcsIG9yaWdpbmFsX2Jsb2NrX2hlaWdodCsncHgnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxvY2tzX3RvX2JsYW5rOyBpKyspIHtcbiAgICAgIHZhciByYW5kX2Jsb2NrX2luZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm51bV9yYXRpbmdzKSsxO1xuXG4gICAgICBpZighJHJhdGluZ19ibG9ja3MuZXEocmFuZF9ibG9ja19pbmRleCkuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcbiAgICAgICAgJHJhdGluZ19ibG9ja3MuZXEocmFuZF9ibG9ja19pbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAuY3NzKCdvcGFjaXR5JywgSU5DUkVBU0VEX09QQUNJVFkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgQU5JTUFUSU9OX1BFUklPRCk7XG5cblxuICAvLyBjb250cm9sIHNob3dpbmcgVi1yYXRpbmcgZGVzY3JpcHRpb25zIG9uIGhvdmVyIG9mIFYtY29sb3IgYnV0dG9uXG4gICQoJy5ib3R0b20tYmFyID4gZGl2Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICB2YXIgcmF0aW5nID0gJCh0aGlzKS5maW5kKCcucmF0aW5nLWJsb2NrJykuZGF0YSgncmF0aW5nJyk7XG4gICAgc2hvd0FuZEhpZ2hsaWdodFJhdGluZyhyYXRpbmcpO1xuICB9KTtcblxuXG4gIGZ1bmN0aW9uIHNob3dBbmRIaWdobGlnaHRSYXRpbmcocmF0aW5nKXtcbiAgICBcbiAgICAvL2hpZGUgYWxsIG90aGVyIGRlc2NyaXB0aW9uc1xuICAgICQoJy52LWRlc2NyaXB0aW9ucyA+IHAnKVxuICAgICAgLm5vdCgnLnYtZGVzY3JpcHRpb25zID4gcFtkYXRhLXJhdGluZz1cIicrcmF0aW5nKydcIl0nKVxuICAgICAgLmhpZGUoKTtcblxuICAgIC8vcmVtb3ZlIG90aGVyIGFjdGl2ZSBvcGFjaXRpZXNcbiAgICAkKCcuYm90dG9tLWJhciA+IGRpdiAucmF0aW5nLWJsb2NrJylcbiAgICAgIC5ub3QoJy5ib3R0b20tYmFyID4gZGl2IC5yYXRpbmctYmxvY2tbZGF0YS1yYXRpbmc9XCInK3JhdGluZysnXCJdJylcbiAgICAgIC5jc3MoJ29wYWNpdHknLCBERUZBVUxUX09QQUNJVFkpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgJCgnLmJvdHRvbS1iYXIgPiBkaXYgLnJhdGluZy1ibG9ja1tkYXRhLXJhdGluZz1cIicrcmF0aW5nKydcIl0nKVxuICAgICAgLmNzcygnb3BhY2l0eScsIDEpXG4gICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgJCgnLnYtZGVzY3JpcHRpb25zID4gcFtkYXRhLXJhdGluZz1cIicrcmF0aW5nKydcIl0nKS5zaG93KCk7XG4gIH1cbn0pO1xuXG5cblxuLyogXG4gIEhhbmRsZSBkaXJlY3QtbGluayB2aWEgcXVlcnkgc3RyaW5nLiBcbiAgZ2V0IHRoZSBzdHViIGZyb20gdGhlIHVybCwgbGlrZSBkam1vdW50YWlub3VzLmNvbT9ibHVlcHJpbnQtMTktd2FybXVwXG5cbiAgTGluayBsaWtlIGFib3ZlIGlzIGlucHV0LCBcbiovXG4kKGZ1bmN0aW9uKCl7XG5cbiAgdmFyIHNlYXJjaCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gucmVwbGFjZShcIj9cIiwgXCJcIik7XG4gXG4gIGlmKHNlYXJjaC5sZW5ndGggPT09IDApXG4gIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBzZXQgb3RoZXIgbWl4ZXMgdG8gbm90aGluZ1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ICBcbiAgICAkKCcubWl4Jykubm90KCcuJytzZWFyY2gpLmNzcygnb3BhY2l0eScsIDAuNSk7XG4gICAgJCgnLm1peC1ncm91cF9fdGl0bGUsIC5ncm91cC1kZXNjcmlwdGlvbicpLmNzcygnb3BhY2l0eScsIDAuNSk7XG4gIH0sIDApOyBcblxuICAvL3doZW4gYW55dGhpbmcgaXMgY2xpY2tlZCwgc2V0IHRoZSBvcGFjaXR5IG9mIHRoZSBtaXhlcyBiYWNrIHRvIDFcbiAgJCgnKicpLm9uKCdjbGljaycsICgpID0+IHsgXG4gICAgJCgnLm1peCcpLmNzcygnb3BhY2l0eScsIDEpO1xuICB9KTsgXG4gICAgXG4gICQoJyNtaXhlcycpLm9uKCdjbGljaycsICcubWl4X19kZXRhaWxzIC5yYXRpbmcnLCBmdW5jdGlvbigpe1xuICAgICQoJy5yYXRpbmctYmxvY2tbZGF0YS1yYXRpbmc9XCInKyQodGhpcykuZGF0YSgncmF0aW5nJykrJ1wiXScpLmNsb3Nlc3QoJ2RpdicpLnRyaWdnZXIoJ2hvdmVyJyk7XG4gICAgJCgnLnJhdGluZy1ibG9ja1tkYXRhLXJhdGluZz1cIicrJCh0aGlzKS5kYXRhKCdyYXRpbmcnKSsnXCJdJykuY2xvc2VzdCgnZGl2JykudHJpZ2dlcignY2xpY2snKTtcbiAgICAkKCdodG1sLCBib2R5Jykuc2Nyb2xsVG9wKCQoJy5ib3R0b20tYmFyJykub2Zmc2V0KCkudG9wLTEzMCk7XG4gIH0pO1xuICBcbn0pOyAgXG5cbi8qIFxuICBGYWRlIHBsYXkgYnV0dG9uIGluXG4qL1xuJChmdW5jdGlvbigpe1xuXG4gIC8vICAgLy8gLy9zY3JvbGwgdGhhdCBlbGVtZW50J3MgdG9wICBcbiAgc2V0VGltZW91dChmdW5jdGlvbigpeyAgXG4gICAgJCgnLmF1ZGlvLWNvbnRyb2xzX19iYWNrZ3JvdW5kJykucmVtb3ZlQ2xhc3MoJ3N0YXJ0LXBvc2l0aW9uJyk7XG4gIH0sIDEwKTsgXG5cbn0pOyAgIFxuXG5cbi8qIFxuICBzdGFiaWxpemUgdmlkZW9zIGJ5IHJlc3RhcnRpbmcgdGhlbSBldmVyeSBYIHNlY29uZHMgKGxlZ250aCBvZiB2aWRlbylcbiovXG4kKGZ1bmN0aW9uKCl7XG5cbiAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsgIFxuICAgIFsndmlkZW8tbGVmdCcsICd2aWRlby1yaWdodCddLmZvckVhY2goKHZpZGVvSWQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiUmVzdGFydGluZyB2aWRlby1sZWZ0XCIpO1xuICAgICAgbWVkaWFFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmlkZW9JZCk7IFxuICAgICAgbWVkaWFFbGVtZW50LnBhdXNlKCk7IFxuICAgICAgbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gMDtcbiAgICAgIG1lZGlhRWxlbWVudC5wbGF5KCk7IFxuICAgIH0pXG4gIH0sIDM0MDAwKTsvL3ZpZGVvIGxlbmd0aCBpcyAzNCBzZWNvbmRzIFxuXG59KTsgICIsIiQoZnVuY3Rpb24gICgpIHtcblxuICAvLyBtaXhlcyBNVVNUIGJlIG5hbWVkIGRqLW1vdXRhaW5vdXMte3NsdWd9LihtcDMvbTRhKVxuICAvLyBpLmUuIGRqLW1vdW50YWlub3VzLXZhLXRlY2gtaG91c2VcblxuICB2YXIgY2FsbV9taXhlcyA9IHtcbiAgICBtaXhlczogW1xuICAgICAgLy9uZXcgbWl4IGdvZXMgaGVyZVxuICAgICAge1xuICAgICAgICB0aXRsZTogXCJFbGZpbiBMYWtlc1wiLFxuICAgICAgICBnZW5yZXM6IFwiSG91c2UsIFByb2dyZXNzaXZlLCBUcmFuY2VcIixcbiAgICAgICAgZGF0ZTogXCJKYW51YXJ5IDIwMTdcIixcbiAgICAgICAgc2x1ZzogXCJlbGZpbi1sYWtlc1wiLFxuICAgICAgICByYXRpbmc6IDRcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiBcIkhlbG0gQ3JlZWtcIixcbiAgICAgICAgZ2VucmVzOiBcIkRlZXAgSG91c2UsIENoaWxsZWRcIixcbiAgICAgICAgZGF0ZTogXCJPY3RvYmVyIDIwMTZcIixcbiAgICAgICAgc2x1ZzogXCJoZWxtLWNyZWVrLWFtYmllbnQtZGVlcFwiLFxuICAgICAgICByYXRpbmc6IDFcbiAgICAgIH0se1xuICAgICAgICB0aXRsZTogXCJUaGUgRWlnZXJcIixcbiAgICAgICAgZ2VucmVzOiBcIlRlY2ggSG91c2VcIixcbiAgICAgICAgZGF0ZTogXCJTZXB0IDIwMTZcIixcbiAgICAgICAgc2x1ZzogXCJ2YS10ZWNoLWhvdXNlXCIsXG4gICAgICAgIHJhdGluZzogM1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IFwiR2FyaWJhbGRpXCIsXG4gICAgICAgIGdlbnJlczogXCJEZWVwIEhvdXNlXCIsXG4gICAgICAgIGRhdGU6IFwiSnVuZSAyMDE2XCIsXG4gICAgICAgIHNsdWc6IFwidmEtZGVlcC1ob3VzZS12MlwiLFxuICAgICAgICByYXRpbmc6IDJcbiAgICAgIH0sXG4gICAgXVxuICB9O1xuXG4gIHZhciBpbnRlbnNlX21peGVzID0ge1xuICAgIG1peGVzOiBbXG4gICAgICAvL25ldyBtaXggZ29lcyBoZXJlXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiBcIkJsdWVwcmludCAxOXRoIFdhcm11cFwiLFxuICAgICAgICBnZW5yZXM6IFwiUmV6eiBHcml6IEdyaW1lIFcuUy5OIERGcmFuY2lzXCIsXG4gICAgICAgIGRhdGU6IFwiT2N0b2JlciAyMDE2XCIsXG4gICAgICAgIHNsdWc6IFwiYmx1ZXByaW50LTE5LXdhcm11cFwiLFxuICAgICAgICByYXRpbmc6IDlcbiAgICAgIH0se1xuICAgICAgICB0aXRsZTogXCJMaXZlIEAgQmlydGhSYXZlIDIwMTZcIixcbiAgICAgICAgZ2VucmVzOiBcIkJhc3MgRnVuaywgVHJhcCwgRHViXCIsXG4gICAgICAgIGRhdGU6IFwiU2VwdCAyNCwgMjAxNlwiLFxuICAgICAgICBzbHVnOiBcImxpdmUtYmlydGhyYXZlLTIwMTYtYmFzcy1mdW5rLWR1YlwiLFxuICAgICAgICByYXRpbmc6IDhcbiAgICAgIH0seyBcbiAgICAgICAgdGl0bGU6IFwiQmxhY2sgVHVza1wiLFxuICAgICAgICBnZW5yZXM6IFwiVHJhcCAmIER1YnN0ZXBcIixcbiAgICAgICAgZGF0ZTogXCJBdWd1c3QgMjAxNlwiLFxuICAgICAgICBzbHVnOiBcInZhLWR1YnRyYXBcIixcbiAgICAgICAgcmF0aW5nOiA5XG4gICAgICB9LHtcbiAgICAgICAgdGl0bGU6IFwiU2V2ZW4gTGlvbnMgd2FybXVwXCIsXG4gICAgICAgIGdlbnJlczogXCJEcmVhbXN0ZXBcIixcbiAgICAgICAgZGF0ZTogXCJPY3RvYmVyIDIwMTZcIixcbiAgICAgICAgc2x1ZzogXCJzZXZlbi1saW9ucy13YXJtLXVwLW1peFwiLFxuICAgICAgICByYXRpbmc6IDdcbiAgICAgIH1cbiAgICBdXG4gIH07Ly8gaW50ZW5zZSBtaXhlc1xuXG4gIC8vIC8vaW5qZWN0IGhhbmRsZWJhcnMgdGVtcGxhdGVzIHdpdGggbWl4IGRhdGFcbiAgaW5qZWN0VGVtcGxhdGVzKGludGVuc2VfbWl4ZXMsICAnaW50ZW5zZScpOyBcbiAgaW5qZWN0VGVtcGxhdGVzKGNhbG1fbWl4ZXMsICAgICAnY2FsbScpO1xuXG4gIGZ1bmN0aW9uIGluamVjdFRlbXBsYXRlcyhkYXRhLCB0eXBlKXtcblxuICAgIHZhciBodG1sID0gTXlBcHAudGVtcGxhdGVzLm1peGVzKGRhdGEpO1xuICAgICQoJyNtaXhlcy10bXBsLScrdHlwZSkuaHRtbChodG1sKTsgXG4gIH0gICBcblxuXG59KTtcbiAgXG5cbiAiXX0=
